[defaults]
# 路径配置：适配 Dockerfile 中的非 root 用户 (ansible user)
# 避免使用 /root/.ansible，因为运行时用户无权访问
roles_path = /usr/share/ansible/roles
collections_path = /usr/share/ansible/collections

# 输出格式：容器日志中 YAML 格式比默认 JSON 更易读
stdout_callback = yaml
bin_ansible_callbacks = True

# 自动化环境常规配置
host_key_checking = False
retry_files_enabled = False
deprecation_warnings = False
interpreter_python = auto_silent

[ssh_connection]
# 开启流水线加速
pipelining = True
# SSH 连接复用优化：保持连接 60s，减少重复握手开销
ssh_args = -C -o ControlMaster=auto -o ControlPersist=60s
control_path = /tmp/ansible-ssh-%%h-%%p-%%r
